<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Card SVG</title>
    <script src="cards_fantasy.js"></script>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
        }
        #output {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Fantasy Card SVG Generator</h1>
    <button onclick="generateSVG()">Generate Cards SVG</button>
    <button onclick="downloadSVG()">Download Cards SVG</button>
    <div id="output"></div>

    <script>
        // Card positions for 8 cards in 2 columns, 4 rows
        const cardPositions = [
            // Left column (bottom to top)
            { x: 8.5100355, y: 210.25099 },
            { x: 8.5100355, y: 150.68187 },
            { x: 8.5100355, y: 91.139717 },
            { x: 8.5100355, y: 31.719917 },
            // Right column (bottom to top)
            { x: 108.37965, y: 210.47012 },
            { x: 108.37965, y: 150.90099 },
            { x: 108.37965, y: 91.358841 },
            { x: 108.37965, y: 31.939041 }
        ];

        const cardWidth = 93.110321;
        const cardHeight = 54.790535;

        // Card type styling
        const cardStyles = {
            position: { gradient: 'gradient-position', stroke: '#8b4a9e', label: '1Ô∏è‚É£', category: 'SPELL TYPE' },
            intensity: { gradient: 'gradient-intensity', stroke: '#e8768f', label: '2Ô∏è‚É£', category: 'POWER LEVEL' },
            time: { gradient: 'gradient-time', stroke: '#9e6b8b', label: '3Ô∏è‚É£', category: 'DURATION' },
            special: { gradient: 'gradient-special', stroke: '#e8c18f', label: 'üé¥', category: 'SPECIAL ACTION' },
            equipment: { gradient: 'gradient-equipment', stroke: '#a865c9', label: 'üé©', category: 'MAGICAL ITEM' },
            pleasure: { gradient: 'gradient-pleasure', stroke: '#ff9eb5', label: 'ü™ô', category: 'TREASURE' }
        };

        function selectCards() {
            const { GAME_CARDS } = window;

            // Select 8 cards - mix from different types
            const cards = [
                GAME_CARDS.mainDeck.position[0],      // Fire Blast
                GAME_CARDS.mainDeck.position[1],      // Ice Storm
                GAME_CARDS.mainDeck.position[2],      // Lightning Strike
                GAME_CARDS.mainDeck.position[3],      // Earth Shake
                GAME_CARDS.mainDeck.intensity[0],     // Cantrip
                GAME_CARDS.mainDeck.intensity[1],     // Spell
                GAME_CARDS.mainDeck.time[1],          // 3 Minutes
                GAME_CARDS.equipmentDeck[0]           // Wizard Hat
            ];

            return cards;
        }

        function createCardSVG(card, position, index) {
            const style = cardStyles[card.type];
            const centerX = position.x + cardWidth / 2;
            const centerY = position.y + cardHeight / 2;
            // Indicator in top left corner (inside card)
            const indicatorX = position.x + 12;
            const indicatorY = position.y + 12;

            let svg = `
    <!-- Card ${index + 1}: ${card.name} -->
    <rect
       fill="url(#${style.gradient})"
       stroke="${style.stroke}"
       stroke-width="1.5"
       width="${cardWidth}"
       height="${cardHeight}"
       x="${position.x}"
       y="${position.y}"
       rx="3"
       ry="3" />
    <g transform="translate(${indicatorX}, ${indicatorY}) rotate(-90)">
      <text font-size="8" x="0" y="0" text-anchor="start" fill="white">${style.label}</text>
    </g>
    <g transform="translate(${centerX}, ${centerY}) rotate(-90)">
      <text font-size="18" x="0" y="-8" text-anchor="middle">${card.emoji}</text>
      <text font-size="5" fill="white" font-weight="600" x="0" y="4" text-anchor="middle">${style.category}</text>
      <text font-size="6" fill="white" font-weight="700" x="0" y="11" text-anchor="middle" textLength="${cardHeight - 20}" lengthAdjust="spacingAndGlyphs">${card.name}</text>`;

            // Add description if exists
            if (card.description) {
                svg += `
      <text font-size="5" fill="rgba(255,255,255,0.9)" x="0" y="17" text-anchor="middle">${card.description}</text>`;
            } else if (card.duration && typeof card.duration === 'string') {
                svg += `
      <text font-size="5" fill="rgba(255,255,255,0.9)" x="0" y="17" text-anchor="middle">${card.duration}</text>`;
            } else if (card.cost) {
                svg += `
      <text font-size="5" fill="rgba(255,255,255,0.9)" x="0" y="17" text-anchor="middle">Cost: ${card.cost}</text>`;
            }

            svg += `
    </g>`;

            return svg;
        }

        function generateSVG() {
            const cards = selectCards();

            const svgContent = `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="210mm"
   height="297mm"
   viewBox="0 0 210 297"
   version="1.1"
   xmlns="http://www.w3.org/2000/svg">

  <defs>
    <!-- Gradients for card backgrounds -->
    <linearGradient id="gradient-position" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#5a2d6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3d1f4a;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="gradient-intensity" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#d4506b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a83d55;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="gradient-time" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6b3d5a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4a2d3d;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="gradient-special" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#d4a56b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a8835d;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="gradient-equipment" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b4a9e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6b3d7a;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="gradient-pleasure" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e8768f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d4506b;stop-opacity:1" />
    </linearGradient>
  </defs>

  <g>
${cards.map((card, index) => createCardSVG(card, cardPositions[index], index)).join('\n')}
  </g>
</svg>`;

            window.generatedSVG = svgContent;

            const output = document.getElementById('output');
            output.innerHTML = `
                <h2>Generated SVG:</h2>
                <div style="max-height: 400px; overflow: auto; border: 1px solid #ccc; padding: 10px; background: #f5f5f5;">
                    <pre>${svgContent.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</pre>
                </div>
                <div style="margin-top: 20px;">
                    <h3>Preview:</h3>
                    <div style="border: 1px solid #ccc; padding: 10px; background: white; max-width: 800px;">
                        ${svgContent}
                    </div>
                </div>
            `;
        }

        function downloadSVG() {
            if (!window.generatedSVG) {
                alert('Please generate SVG first!');
                return;
            }

            const blob = new Blob([window.generatedSVG], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'fantasy_cards.svg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Auto-generate on load
        window.addEventListener('load', () => {
            setTimeout(generateSVG, 100);
        });
    </script>
</body>
</html>
